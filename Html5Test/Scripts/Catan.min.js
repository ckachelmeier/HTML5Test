var Catan;(function(){function f(n){for(var r,i,t=0;t<n.length;t++)r=n[t],i=Math.floor(t+Math.random()*(n.length-t)),n[t]=n[i],n[i]=r}var r,e,i,n,u;(function(n){n._map=[],n._map[0]="PreRoll",n.PreRoll=0,n._map[1]="PostRoll",n.PostRoll=1})(r||(r={})),e=function(){function n(n){this.players=[];for(var t=0;t<n;t++)this.players[t]=new s(t)}return n}(),i=function(){function n(n,t){this.x=n,this.y=t}return n}(),function(n){n._map=[],n._map[0]="Grain",n.Grain=0,n._map[1]="Coal",n.Coal=1,n._map[2]="Wool",n.Wool=2,n._map[3]="Wood",n.Wood=3,n._map[4]="Brick",n.Brick=4,n._map[5]="Desert",n.Desert=5}(n||(n={})),function(n){n._map=[],n._map[0]="Red",n.Red=0,n._map[1]="Blue",n.Blue=1,n._map[2]="White",n.White=2,n._map[3]="Green",n.Green=3,n._map[4]="Orange",n.Orange=4}(u||(u={}));var o=function(){function r(i){var e,o,u,r;for(this.hexGrid=[],r=0;r<5;r++)this.hexGrid[r]=[];for(this.context=i,i!=null&&(this.sideLength=i.canvas.width/10),e=[2,12],o=2,r=3;r<12;r++)r!=7&&(e[o]=r,e[o+1]=r,o=o+2);for(f(e),u=[],r=0;r<3;r++)u[r]=new t(n.Brick,e[r]);for(r=0;r<4;r++)u[r+3]=new t(n.Wood,e[r+3]);for(r=0;r<4;r++)u[r+7]=new t(n.Wool,e[r+7]);for(r=0;r<4;r++)u[r+11]=new t(n.Grain,e[r+11]);for(r=0;r<3;r++)u[r+15]=new t(n.Coal,e[r+15]);u[18]=new t(n.Desert,-1),f(u),this.hexGrid[0][2]=u[0],this.hexGrid[0][3]=u[1],this.hexGrid[0][4]=u[2],this.hexGrid[1][1]=u[3],this.hexGrid[1][2]=u[4],this.hexGrid[1][3]=u[5],this.hexGrid[1][4]=u[6],this.hexGrid[2][0]=u[7],this.hexGrid[2][1]=u[8],this.hexGrid[2][2]=u[9],this.hexGrid[2][3]=u[10],this.hexGrid[2][4]=u[11],this.hexGrid[3][0]=u[12],this.hexGrid[3][1]=u[13],this.hexGrid[3][2]=u[14],this.hexGrid[3][3]=u[15],this.hexGrid[4][0]=u[16],this.hexGrid[4][1]=u[17],this.hexGrid[4][2]=u[18],this.Display()}return r.prototype.Display=function(){var t,r,u,f;if(this.context!=null)for(this.context.setTransform(1,0,0,1,this.sideLength,this.sideLength),t=0;t<5;t++)for(r=0;r<5;r++)if(this.hexGrid[t][r]!=null&&this.hexGrid[t][r]!=undefined){switch(this.hexGrid[t][r].type){case n.Brick:u="red";break;case n.Coal:u="#111111";break;case n.Desert:u="orange";break;case n.Grain:u="yellow";break;case n.Wood:u="green";break;case n.Wool:u="#55ff55"}f=this.getGridCoordinateFromHexCoordinate(new i(t*this.sideLength,r*this.sideLength)),this.context.beginPath(),this.context.arc(f.x,f.y,this.sideLength/2,0,2*Math.PI),this.context.fillStyle=u,this.context.fill(),this.context.lineWidth=1,this.context.stroke(),this.hexGrid[t][r].rollNumber>1&&(this.context.beginPath(),this.context.arc(f.x,f.y,this.sideLength/6,0,2*Math.PI),this.context.fillStyle="white",this.context.fill(),this.context.lineWidth=1,this.context.stroke(),this.context.beginPath(),this.context.fillStyle="black",this.context.fillText(this.hexGrid[t][r].rollNumber,f.x-this.sideLength/12,f.y+this.sideLength/12),this.context.stroke())}},r.prototype.getGridCoordinateFromHexCoordinate=function(n){return new i(n.x+n.y*.5,n.y*.866)},r}(),s=function(){function t(t){this.color=t,this.resourceCards=[0,0,0,0,0],this.resourceTypes=[n.Brick,n.Coal,n.Grain,n.Wood,n.Wool]}return t}(),h=function(){function n(n){this.owner=n,this.city=!1}return n.prototype.Upgrade=function(){this.city=!0},n}(),t=function(){function n(n,t){this.type=n,this.rollNumber=t,this.settlementLocations=[[null,null],[null,null],[null,null]],this.roadLocations=[[null,null],[null,null],[null,null]]}return n}();$(document).ready(function(){var n,t;n=$("#board")[0],t=new o(n.getContext("2d"))})})(Catan||(Catan={}))