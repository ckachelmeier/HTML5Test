{"version":3,"file":"server.js","sources":["server.ts"],"names":["ChessLobby","ChessLobby.constructor","","","","ChessLobby.closeRequest","ChessLobby.newRequest","","","ChessLobby.handleMessage","ChessLobby.newUserName","ChessLobby.sendRefreshedGamesList","ChessLobby.sendMessageToLoggedInUsers","ChessLobby.isLoggedIn","ChessLobby.originIsAllowed"],"mappings":"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"}